(function(){function a(e){for(var f in e.dataset)e.setAttribute(f,e.dataset[f]),e.removeAttribute('data-${dataAttribute}')}function b(e){[].slice.call(e.querySelectorAll('source')).forEach(f=>{a(f)})}function c(e){e.hasAttribute('src')?e.onload=function(){e.classList.add('lazy_loaded')}:e.classList.add('lazy_loaded')}function d(e){if('IMG'===e.tagName){let f=e.parentNode;'PICTURE'===f.tagName?b(f):a(e)}else'IFRAME'===e.tagName?a(e):'VIDEO'===e.tagName&&(b(e),e.load());c(e)}document.addEventListener('DOMContentLoaded',function(){var e=[].slice.call(document.querySelectorAll('.lazy'));if('IntersectionObserver'in window){let f=new IntersectionObserver(function(g){g.forEach(function(i){if(i.isIntersecting){let j=i.target;d(j),f.unobserve(j)}})},{rootMargin:'0px 0px 400px 0px'});e.forEach(function(g){f.observe(g)})}else{console.log('no IntersectionObserver support');let f=!1;const g=function(){!1==f&&(f=!0,setTimeout(function(){e.forEach(function(h){h.getBoundingClientRect().top-400<=window.innerHeight&&0<=h.getBoundingClientRect().bottom&&'none'!==getComputedStyle(h).display&&(d(h),0===e.length&&(document.removeEventListener('scroll',g),window.removeEventListener('resize',g),window.removeEventListener('orientationchange',g)))}),f=!1},200))};document.addEventListener('scroll',g),window.addEventListener('resize',g),window.addEventListener('orientationchange',g),g()}})})();