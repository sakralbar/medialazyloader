(function(){function a(d){for(var e in d.dataset)d.setAttribute(e,d.dataset[e]),d.removeAttribute("data-${dataAttribute}")}function b(d){[].slice.call(d.querySelectorAll("source")).forEach(e=>{a(e)})}function c(d){if("IMG"===d.tagName){let e=d.parentNode;"PICTURE"===e.tagName?b(e):a(d)}else"IFRAME"===d.tagName?a(d):"VIDEO"===d.tagName&&(b(d),d.load())}document.addEventListener("DOMContentLoaded",function(){var d=[].slice.call(document.querySelectorAll(".lazy"));if("IntersectionObserver"in window){let e=new IntersectionObserver(function(f){f.forEach(function(h){if(h.isIntersecting){let i=h.target;c(i),e.unobserve(i),i.classList.add("lazy_loaded")}})},{rootMargin:"0px 0px 200px 0px"});d.forEach(function(f){e.observe(f)})}else{console.log("no IntersectionObserver support");let e=!1;const f=function(){!1==e&&(e=!0,setTimeout(function(){d.forEach(function(g){if(g.getBoundingClientRect().top-200<=window.innerHeight&&0<=g.getBoundingClientRect().bottom&&"none"!==getComputedStyle(g).display){if("IMG"===g.tagName){let h=g.parentNode;"PICTURE"===h.tagName?b(h):a(g)}else"IFRAME"===g.tagName?a(g):"VIDEO"===g.tagName&&(b(g),g.load());d=d.filter(function(h){return h!==g}),g.classList.add("lazy_loaded"),0===d.length&&(document.removeEventListener("scroll",f),window.removeEventListener("resize",f),window.removeEventListener("orientationchange",f))}}),e=!1},200))};document.addEventListener("scroll",f),window.addEventListener("resize",f),window.addEventListener("orientationchange",f),f()}})})();